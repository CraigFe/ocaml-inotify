OASISFormat  : 0.3
Name         : inotify
Version      : 2.0
Synopsis     : Inotify bindings for ocaml
Authors      : Vincent Hanquez, Peter Zotov
License      : LGPL-2.1 with OCaml linking exception
Plugins      : DevFiles (0.3), META (0.3)
BuildTools   : ocamlbuild
BuildDepends : unix
Maintainers  : Peter Zotov <whitequark@whitequark.org>
Description  : Inotify bindings for ocaml
Homepage     : https://github.com/whitequark/ocaml-inotify

Flag lwt
  Description:      Build the Lwt wrapper
  Default:          false

Library "inotify"
  Path:             lib
  Modules:          Inotify
  CSources:         inotify_stubs.c,inotify_stubs.h

Library "inotify-lwt"
  Build$:           flag(lwt)
  Install$:         flag(lwt)
  FindlibName:      lwt
  FindlibParent:    inotify
  Path:             lib
  Modules:          Lwt_inotify
  BuildDepends:     inotify, lwt, lwt.syntax, lwt.unix

Executable test_inotify
  Path:             lib_test
  MainIs:           test_inotify.ml
  Install:          false
  BuildDepends:     oUnit (>= 1.1.0), fileutils (>= 0.4.4), inotify
  CompiledObject:   best
  ByteOpt:          -thread
  NativeOpt:        -thread

Test inotify
  Command:          $test_inotify

Executable test_inotify_lwt
  Path:             lib_test
  MainIs:           test_inotify_lwt.ml
  Install:          false
  Build$:           flag(lwt)
  BuildDepends:     oUnit (>= 1.1.0), fileutils (>= 0.4.4), inotify.lwt
  CompiledObject:   best
  ByteOpt:          -thread
  NativeOpt:        -thread

Test inotify_lwt
  Run$:             flag(lwt)
  Command:          $test_inotify_lwt
